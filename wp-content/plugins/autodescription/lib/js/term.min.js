'use strict';window.tsfTerm=function(){const a="undefined"!=typeof tsfTermL10n&&tsfTermL10n,b="autodescription-meta[doctitle]",c="autodescription-meta[description]",d="autodescription_social_tt",e=()=>{const a=document.getElementById("autodescription-meta[noindex]");let b="",c=!0;const d=()=>{let a=document.getElementById("autodescription-meta[canonical]");a&&(b||=a.placeholder,a.placeholder=c?b:"")},e=b=>{let e="";switch(+b){case 0:e=a.dataset.defaultUnprotected;break;case-1:e="index";break;case 1:e="noindex";}c="noindex"!==e,d()};a&&(a.addEventListener("change",a=>e(a.target.value)),e(a.value))},f=()=>{tsfTitle.setInputElement(document.getElementById(b));const c=JSON.parse(document.getElementById(`tsf-title-data_${b}`)?.dataset.state||0);c&&(tsfTitle.updateStateOf(b,"allowReferenceChange",!c.refTitleLocked),tsfTitle.updateStateOf(b,"defaultTitle",c.defaultTitle.trim()),tsfTitle.updateStateOf(b,"addAdditions",c.addAdditions),tsfTitle.updateStateOf(b,"useSocialTagline",!!(c.useSocialTagline||!1)),tsfTitle.updateStateOf(b,"additionValue",c.additionValue.trim()),tsfTitle.updateStateOf(b,"additionPlacement",c.additionPlacement),tsfTitle.updateStateOf(b,"hasLegacy",!!(c.hasLegacy||!1)));const d=tsf.escapeString(a.params.termPrefix),e=document.getElementById("autodescription-meta[title_no_blog_name]");e&&(e.addEventListener("change",c=>{let d=!c.target.checked;a.params.additionsForcedDisabled&&(d=!1),tsfTitle.updateStateOf(b,"addAdditions",d)}),e.dispatchEvent(new Event("change")));const f=a=>{a=a?.trim();let c=tsfTitle.stripTitleTags?tsf.stripTags(a):a;c||=tsfTitle.untitledTitle;let e;e=window.isRtl?`${c} ${d}`:`${d} ${c}`,tsfTitle.updateStateOf(b,"defaultTitle",e)};document.querySelector("#edittag #name")?.addEventListener("input",a=>f(a.target.value)),tsfTitle.enqueueUnregisteredInputTrigger(b)},g=()=>{tsfDescription.setInputElement(document.getElementById(c));const a=JSON.parse(document.getElementById(`tsf-description-data_${c}`)?.dataset.state||0);a&&(tsfDescription.updateStateOf(c,"defaultDescription",a.defaultDescription.trim()),tsfDescription.updateStateOf(c,"hasLegacy",!!(a.hasLegacy||!1))),tsfDescription.enqueueUnregisteredInputTrigger(c)},h=()=>{tsfSocial.setInputInstance(d,b,c);const a=JSON.parse(document.getElementById(`tsf-social-data_${d}`)?.dataset.settings||0);a&&(tsfSocial.updateStateOf(d,"addAdditions",a.og.state.addAdditions),tsfSocial.updateStateOf(d,"defaults",{ogTitle:a.og.state.defaultTitle,twTitle:a.tw.state.defaultTitle,ogDesc:a.og.state.defaultDesc,twDesc:a.tw.state.defaultDesc}))},i=()=>{e(),f(),g(),h()},j=()=>{};return Object.assign({load:()=>{document.body.addEventListener("tsf-onload",i),document.body.addEventListener("tsf-ready",j)}},{l10n:a})}(),window.tsfTerm.load();
