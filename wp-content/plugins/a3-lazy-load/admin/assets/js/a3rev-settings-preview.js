(function($){a3revButtonPreview={loadPreviewButtons:function(){a3revButtonPreview.handleEvents();},handleEvents:function(){$(document).on('click','a.a3rev-ui-border-preview-button',function(){a3revButtonPreview.generateBorderPreview($(this));return false;});$(document).on('click','a.a3rev-ui-box_shadow-preview-button',function(){a3revButtonPreview.generateBoxShadowPreview($(this));return false;});$(document).on('click','a.preview_remove',function(){a3revButtonPreview.closePreview($(this));return false;});},closePreview:function(target){target.parents('.section').find('.a3rev-ui-settings-preview-button .refresh').removeClass('refresh');target.parents('.settings-preview-container').remove();},generateBorderPreview:function(target){var previewText='<div class="settings-apply-preview">Grumpy wizards make toxic brew for the evil Queen and Jack.</div>';var previewHTML='';var previewStyles='';var controls=target.parents('.a3rev-ui-settings-control');var borderSize=controls.find('.a3rev-ui-border_styles-width').val();var borderStyle=controls.find('.a3rev-ui-border_styles-style').val();var borderColor=controls.find('.a3rev-ui-border_styles-color').val();var borderRoundedCorner=0;if(controls.find('.a3rev-ui-border-corner').is(":checked")){borderRoundedCorner=1;}
var borderTopLeft=controls.find('.a3rev-ui-border_top_left_corner').val();var borderTopRight=controls.find('.a3rev-ui-border_top_right_corner').val();var borderBottomLeft=controls.find('.a3rev-ui-border_bottom_left_corner').val();var borderBottomRight=controls.find('.a3rev-ui-border_bottom_right_corner').val();$('.settings-preview').removeClass('current');previewStyles+='border: '+borderSize+' '+borderStyle+' '+borderColor+';';if(borderRoundedCorner==1){previewStyles+=' border-radius: '+borderTopLeft+'px '+borderTopRight+'px '+borderBottomRight+'px '+borderBottomLeft+'px ;';previewStyles+=' -webkit-border-radius: '+borderTopLeft+'px '+borderTopRight+'px '+borderBottomRight+'px '+borderBottomLeft+'px ;';previewStyles+=' -moz-border-radius: '+borderTopLeft+'px '+borderTopRight+'px '+borderBottomRight+'px '+borderBottomLeft+'px ;';}
var previewHTMLInner=$('<div />').addClass('current').addClass('settings-preview').html(previewText);previewHTML=$('<div />').addClass('settings-preview-container').html(previewHTMLInner).append('<a href="#" class="preview_remove a3-plugin-ui-delete-icon">&nbsp;</a>');if(!controls.next('.settings-preview-container').length){previewHTML.find('.settings-apply-preview').attr('style',previewStyles);controls.after(previewHTML);}else{controls.next('.settings-preview-container').find('.settings-apply-preview').attr('style',previewStyles);}
controls.find('.a3rev-ui-settings-preview-button span').addClass('refresh');},generateBoxShadowPreview:function(target){var previewText='<div class="settings-apply-preview">Grumpy wizards make toxic brew for the evil Queen and Jack.</div>';var previewHTML='';var previewStyles='';var customStyles='';var controls=target.parents('.a3rev-ui-settings-control');var hShadow=controls.find('.a3rev-ui-box_shadow-h_shadow').val();var vShadow=controls.find('.a3rev-ui-box_shadow-v_shadow').val();var blurSize=controls.find('.a3rev-ui-box_shadow-blur').val();var spreadSize=controls.find('.a3rev-ui-box_shadow-spread').val();var shadowColor=controls.find('.a3rev-ui-box_shadow-color').val();var insetShadow='';if(controls.find('.a3rev-ui-box_shadow-inset').is(":checked")){insetShadow='inset';}
$('.settings-preview').removeClass('current');customStyles+=hShadow+' '+vShadow+' '+blurSize+' '+spreadSize+' '+shadowColor+' '+insetShadow;previewStyles+=' box-shadow: '+customStyles+';';previewStyles+=' -moz-box-shadow: '+customStyles+';';previewStyles+=' -webkit-box-shadow: '+customStyles+';';var previewHTMLInner=$('<div />').addClass('current').addClass('settings-preview').html(previewText);previewHTML=$('<div />').addClass('settings-preview-container').html(previewHTMLInner).append('<a href="#" class="preview_remove a3-plugin-ui-delete-icon">&nbsp;</a>');if(!controls.next('.settings-preview-container').length){previewHTML.find('.settings-apply-preview').attr('style',previewStyles);controls.after(previewHTML);}else{controls.next('.settings-preview-container').find('.settings-apply-preview').attr('style',previewStyles);}
controls.find('.a3rev-ui-settings-preview-button span').addClass('refresh');}};$(document).ready(function(){a3revButtonPreview.loadPreviewButtons();});})(jQuery);