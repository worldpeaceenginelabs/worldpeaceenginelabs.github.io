'use strict';var WPFormsLogger=window.WPFormsLogger||(function(document,window,$){var app={init:function(){$(app.ready);},ready:function(){$(app.bindPopup());},bindPopup:function(){$('.wpforms-list-table--logs .wp-list-table').on('click','.js-single-log-target',function(e){e.preventDefault();app.showPopup($(this).attr('data-log-id'));});},showPopup:function(recordId){if(!recordId){return;}
var popupTemplate=wp.template('wpforms-log-record');$.dialog({title:false,boxWidth:Math.min(550,$(window).width()),content:function(){var self=this;return $.get(wpforms_admin.ajax_url,{action:'wpforms_get_log_record',nonce:wpforms_admin.nonce,recordId:recordId,}).done(function(res){if(!res.success||!res.data){app.error(res.data);self.close();return;}
self.setContent(popupTemplate(res.data));}).fail(function(xhr,textStatus,e){app.error(textStatus+' '+xhr.responseText);self.close();});},animation:'scale',columnClass:'medium',closeIcon:true,closeAnimation:'scale',});},error:function(msg){if(!wpforms_admin.debug){return;}
msg=_.isEmpty(msg)?'':': '+msg;console.log('WPForms Debug: Error receiving log record data'+msg);},};return app;}(document,window,jQuery));WPFormsLogger.init();